---
title: 并查集
date: 2020-01-12 20:56
comments: false
tags: 
- structure
- 并查集
categories: 
- structure
- 并查集
keywords:
- 并查集
---

### 并查集

并查集，在一些有N个元素的集合应用问题中，通常在开始时让每一个元素构成一个单元素的集合，然后按一定顺序将属于同一组的元素所在的集合合并，这个过程中要反复查找一个元素在哪个集合。这类问题特点是看似不复杂，但是数据量很大，若用正常的数据结构来描述的话，往往在空间上过大，计算机无法承受；即使在空间上勉强通过，运行的时间复杂度也极高，根本就不可能在比赛规定的运行时间（1～3秒）内计算出试题需要的结果，只能用并查集来描述。

并查集是一种树形结构，用于处理不相交集合的合并和查找问题。常常使用森林来表示。

#### 主要操作

- 初始化：吧每个点所在的集合初始化为其自身。（ O(N) ）
- 查找：查找元素所在的集合，即根节点。
- 合并：将两个元素所在集合合并为一个集合。

#### 实现

```
/**
 * 存储每个元素的父节点
 */
int[] father;

private void init(int n) {
    father = new int[n];
}

/**
 * 查找，找到父节点
 * @param item
 * @return
 */
private int find(int item) {
    int r = item;
    if(item != father[item]) {
        r = find(father[item]);
    }
    return r;
}

/**
 * 集合合并
 * @param a
 * @param b
 */
private void union(int a, int b) {
    int fa = find(a);
    int fb = find(b);
    //同一个集合
    if(fa == fb) {
        return;
    }
    if(fa > fb) {
        father[fa] = fb;
    } else {
        father[fb] = fa;
    }
}
```

相关题目：[leetcode](https://leetcode-cn.com/problems/number-of-operations-to-make-network-connected/)
